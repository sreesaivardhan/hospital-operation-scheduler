<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 3 Verification - Hospital Authentication System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .verification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .verification-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .setup-icon {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
        }

        .auth-icon {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }

        .ui-icon {
            background: linear-gradient(135deg, #45b7d1, #96c93d);
        }

        .role-icon {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .card-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
        }

        .checklist {
            list-style: none;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #f1f2f6;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 2px;
        }

        .checkbox.checked {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
            color: white;
        }

        .checklist-text {
            flex: 1;
            color: #2c3e50;
            line-height: 1.5;
        }

        .checklist-text.completed {
            text-decoration: line-through;
            opacity: 0.6;
        }

        .status-bar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .status-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
        }

        .completion-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .completion-low {
            background: #fee;
            color: #c53030;
        }

        .completion-medium {
            background: #fff3cd;
            color: #b45309;
        }

        .completion-high {
            background: #d4edda;
            color: #155724;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #f1f2f6;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 6px;
        }

        .testing-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .test-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .test-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 20px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .test-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .results-area {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            min-height: 100px;
            border-left: 4px solid #667eea;
        }

        .result-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-status {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .result-success {
            background: #28a745;
            color: white;
        }

        .result-error {
            background: #dc3545;
            color: white;
        }

        .result-warning {
            background: #ffc107;
            color: #212529;
        }

        .troubleshooting {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .trouble-item {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #dc3545;
        }

        .trouble-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .trouble-solution {
            color: #6c757d;
            line-height: 1.6;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 10px 0;
            overflow-x: auto;
        }

        .testing-elements {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #2c3e50;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .message-element {
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
        }

        .error-message {
            color: #dc3545;
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }

        .success-message {
            color: #155724;
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }

        @media (max-width: 768px) {
            .verification-grid {
                grid-template-columns: 1fr;
            }
            
            .test-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç Day 3 Verification System</h1>
            <p>Complete checklist to verify your Hospital Authentication System implementation</p>
        </div>

        <!-- Status Overview -->
        <div class="status-bar">
            <div class="status-header">
                <div class="status-title">Implementation Progress</div>
                <div class="completion-badge completion-low" id="completionBadge">0% Complete</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="progressText">Complete the checklist items below to track your progress</div>
        </div>

        <!-- Verification Checklists -->
        <div class="verification-grid">
            <!-- Firebase Setup -->
            <div class="verification-card">
                <div class="card-header">
                    <div class="card-icon setup-icon">üî•</div>
                    <div class="card-title">Firebase Setup</div>
                </div>
                <ul class="checklist">
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Firebase project created</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Authentication enabled (Email/Password)</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Firestore Database created</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Firebase configuration added to project</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Security rules configured</div>
                    </li>
                </ul>
            </div>

            <!-- Authentication Features -->
            <div class="verification-card">
                <div class="card-header">
                    <div class="card-icon auth-icon">üîê</div>
                    <div class="card-title">Authentication Features</div>
                </div>
                <ul class="checklist">
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">User registration working</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">User login working</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">User logout working</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Email verification sent</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Password reset working</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Form validation working</div>
                    </li>
                </ul>
            </div>

            <!-- UI/UX Elements -->
            <div class="verification-card">
                <div class="card-header">
                    <div class="card-icon ui-icon">üé®</div>
                    <div class="card-title">UI/UX Elements</div>
                </div>
                <ul class="checklist">
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Login form displays correctly</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Registration form displays correctly</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Toggle between login/register works</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Loading states show properly</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Error messages display correctly</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Success messages display correctly</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Responsive design on mobile</div>
                    </li>
                </ul>
            </div>

            <!-- Role-Based Access -->
            <div class="verification-card">
                <div class="card-header">
                    <div class="card-icon role-icon">üë•</div>
                    <div class="card-title">Role-Based Access</div>
                </div>
                <ul class="checklist">
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Admin role selection in registration</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">User role selection in registration</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Admin dashboard features visible</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">User dashboard features visible</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">Role-based permissions working</div>
                    </li>
                    <li class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <div class="checklist-text">User profile data saved to Firestore</div>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Testing Section -->
        <div class="testing-section">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">üß™ Automated Tests</h2>
            <p style="color: #6c757d; margin-bottom: 20px;">Run these tests to verify your implementation works correctly:</p>
            
            <div class="test-buttons">
                <button class="test-btn" onclick="testFirebaseConnection()">
                    üî• Test Firebase Connection
                </button>
                <button class="test-btn" onclick="testFirestoreDatabase()">
                    üóÑÔ∏è Test Firestore Database
                </button>
                <button class="test-btn" onclick="testAuthForms()">
                    üìù Test Auth Forms
                </button>
                <button class="test-btn" onclick="testValidation()">
                    ‚úÖ Test Form Validation
                </button>
                <button class="test-btn" onclick="testResponsive()">
                    üì± Test Responsive Design
                </button>
                <button class="test-btn" onclick="testAccessibility()">
                    ‚ôø Test Accessibility
                </button>
                <button class="test-btn" onclick="runAllTests()">
                    üöÄ Run All Tests
                </button>
            </div>

            <div class="results-area" id="testResults">
                <p style="color: #6c757d; text-align: center;">Click a test button above to see results</p>
            </div>
        </div>

        <!-- Testing Elements Section -->
        <div class="testing-elements">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">üîß Testing Form Elements</h2>
            <p style="color: #6c757d; margin-bottom: 20px;">These elements are used for form validation testing:</p>
            
            <!-- Mock authentication form for testing -->
            <form id="authForm" onsubmit="handleFormSubmit(event)" style="margin-bottom: 20px;">
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" placeholder="test@example.com" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" placeholder="Admin123!" required>
                </div>
                <button type="submit" class="test-btn" style="width: auto; margin-top: 10px;">Test Submit</button>
            </form>
            
            <!-- Toggle link -->
            <p>
                <a href="#" id="toggleLink" onclick="toggleAuthMode()" style="color: #667eea; text-decoration: none;">Switch between login/register</a>
            </p>
            
            <!-- Message elements -->
            <div id="errorMessage" class="message-element error-message">
                Error messages will appear here
            </div>
            <div id="successMessage" class="message-element success-message">
                Success messages will appear here
            </div>
        </div>

        <!-- Troubleshooting -->
        <div class="troubleshooting">
            <h2 style="margin-bottom: 25px; color: #2c3e50;">üîß Common Issues & Solutions</h2>
            
            <div class="trouble-item">
                <div class="trouble-title">‚ùå Firebase not loading / Configuration errors</div>
                <div class="trouble-solution">
                    Make sure you've replaced the placeholder config with your actual Firebase configuration:
                    <div class="code-block">
// Replace these with your actual values from Firebase Console
const firebaseConfig = {
    apiKey: "AIzaSyDGO0toQ9Cpseiu3YtdM-eizthw08n7IR4",
    authDomain: "hospital-scheduler-2025.firebaseapp.com",
    projectId: "hospital-scheduler-2025",
    storageBucket: "hospital-scheduler-2025.appspot.com",
    messagingSenderId: "707345795665",
    appId: "1:707345795665:web:adbc753023afffb8ca0670"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
                    </div>
                    Check that Authentication is enabled in Firebase Console > Authentication > Sign-in method
                </div>
            </div>

            <div class="trouble-item">
                <div class="trouble-title">‚ùå Firestore "Missing or insufficient permissions" error</div>
                <div class="trouble-solution">
                    Update your Firestore security rules for testing (temporary):
                    <div class="code-block">
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow all read/write for testing - TEMPORARY ONLY
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
                    </div>
                    Remember to implement proper security rules for production!
                </div>
            </div>

            <div class="trouble-item">
                <div class="trouble-title">‚ùå "User profile not found" error</div>
                <div class="trouble-solution">
                    This happens when Firestore security rules are too restrictive or the user collection doesn't exist.
                    <br>‚Ä¢ Check Firestore security rules
                    <br>‚Ä¢ Ensure the user profile is created during registration
                    <br>‚Ä¢ Verify the collection name is 'users'
                </div>
            </div>

            <div class="trouble-item">
                <div class="trouble-title">‚ùå Forms not submitting / Validation not working</div>
                <div class="trouble-solution">
                    Check browser console for JavaScript errors:
                    <br>‚Ä¢ Press F12 ‚Üí Console tab
                    <br>‚Ä¢ Look for red error messages
                    <br>‚Ä¢ Ensure all required files are loaded
                    <br>‚Ä¢ Check that form IDs match the JavaScript selectors
                </div>
            </div>

            <div class="trouble-item">
                <div class="trouble-title">‚ùå Email verification not sending</div>
                <div class="trouble-solution">
                    Check your Firebase project settings:
                    <br>‚Ä¢ Go to Authentication > Templates
                    <br>‚Ä¢ Ensure email verification template is configured
                    <br>‚Ä¢ Check spam folder for verification emails
                    <br>‚Ä¢ Verify domain settings in Firebase Console
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

    <!-- Firebase Configuration -->
    <script>
    const firebaseConfig = {
        apiKey: "AIzaSyDGO0toQ9Cpseiu3YtdM-eizthw08n7IR4",
        authDomain: "hospital-scheduler-2025.firebaseapp.com",
        projectId: "hospital-scheduler-2025",
        storageBucket: "hospital-scheduler-2025.appspot.com",
        messagingSenderId: "707345795665",
        appId: "1:707345795665:web:adbc753023afffb8ca0670"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    </script>

    <!-- Main JavaScript -->
    <script>
        let completedItems = 0;
        let totalItems = 0;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            totalItems = document.querySelectorAll('.checkbox').length;
            updateProgress();
        });

        // Toggle checklist items
        function toggleCheck(checkbox) {
            const isChecked = checkbox.classList.contains('checked');
            const textElement = checkbox.nextElementSibling;
            
            if (isChecked) {
                checkbox.classList.remove('checked');
                checkbox.innerHTML = '';
                textElement.classList.remove('completed');
                completedItems--;
            } else {
                checkbox.classList.add('checked');
                checkbox.innerHTML = '‚úì';
                textElement.classList.add('completed');
                completedItems++;
            }
            
            updateProgress();
        }

        // Update progress bar and status
        function updateProgress() {
            const percentage = Math.round((completedItems / totalItems) * 100);
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const completionBadge = document.getElementById('completionBadge');
            
            progressFill.style.width = percentage + '%';
            completionBadge.textContent = percentage + '% Complete';
            
            // Update badge color
            completionBadge.className = 'completion-badge ';
            if (percentage < 30) {
                completionBadge.className += 'completion-low';
            } else if (percentage < 80) {
                completionBadge.className += 'completion-medium';
            } else {
                completionBadge.className += 'completion-high';
            }
            
            // Update progress text
            if (percentage === 0) {
                progressText.textContent = 'Complete the checklist items above to track your progress';
            } else if (percentage < 50) {
                progressText.textContent = `Getting started! ${completedItems}/${totalItems} items completed`;
            } else if (percentage < 100) {
                progressText.textContent = `Great progress! ${completedItems}/${totalItems} items completed`;
            } else {
                progressText.textContent = `üéâ Excellent! All ${totalItems} items completed - Your Day 3 implementation is ready!`;
            }
        }

        // Test functions
        function addTestResult(status, message) {
            const resultsArea = document.getElementById('testResults');
            const resultItem = document.createElement('div');
            resultItem.className = 'result-item';
            
            const statusIcon = document.createElement('div');
            statusIcon.className = `result-status result-${status}`;
            statusIcon.textContent = status === 'success' ? '‚úì' : status === 'error' ? '‚úó' : '!';
            
            const messageDiv = document.createElement('div');
            messageDiv.textContent = message;
            
            resultItem.appendChild(statusIcon);
            resultItem.appendChild(messageDiv);
            resultsArea.appendChild(resultItem);
        }

        function clearTestResults() {
            const resultsArea = document.getElementById('testResults');
            resultsArea.innerHTML = '<p style="color: #6c757d; text-align: center;">Running tests...</p>';
        }

        // Enhanced Firebase Connection Test
        async function testFirebaseConnection() {
            clearTestResults();
            
            try {
                // Check if Firebase is loaded
                if (typeof firebase === 'undefined') {
                    addTestResult('error', 'Firebase SDK not found - check your script tags');
                    return;
                }
                addTestResult('success', 'Firebase SDK loaded successfully');
                
                // Check if app is initialized
                try {
                    const app = firebase.app();
                    addTestResult('success', 'Firebase app initialized');
                } catch (error) {
                    addTestResult('error', 'Firebase app not initialized - check your config');
                    return;
                }
                
                // Test Authentication service
                try {
                    const auth = firebase.auth();
                    addTestResult('success', 'Firebase Authentication service connected');
                    
                    // Check current auth state
                    const user = auth.currentUser;
                    if (user) {
                        addTestResult('success', `User authenticated: ${user.email}`);
                    } else {
                        addTestResult('warning', 'No user currently authenticated');
                    }
                } catch (error) {
                    addTestResult('error', `Authentication error: ${error.message}`);
                }
                
                // Test Firestore connection
                try {
                    const db = firebase.firestore();
                    addTestResult('success', 'Firestore database connected');
                } catch (error) {
                    addTestResult('error', `Firestore connection error: ${error.message}`);
                }
                
            } catch (error) {
                addTestResult('error', `General Firebase error: ${error.message}`);
            }
        }

        // Firestore Database Test Function
        async function testFirestoreDatabase() {
            clearTestResults();
            addTestResult('success', 'Testing Firestore Database operations...');
            
            try {
                const db = firebase.firestore();
                
                // Test write operation
                await db.collection('test').doc('verification-test').set({
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    test: 'verification',
                    status: 'testing'
                });
                addTestResult('success', 'Firestore write operation successful');
                
                // Test read operation
                const doc = await db.collection('test').doc('verification-test').get();
                if (doc.exists) {
                    addTestResult('success', 'Firestore read operation successful');
                    addTestResult('success', `Document data retrieved: ${JSON.stringify(doc.data())}`);
                } else {
                    addTestResult('error', 'Document was not found after writing');
                }
                
                // Test delete operation
                await db.collection('test').doc('verification-test').delete();
                addTestResult('success', 'Firestore delete operation successful');
                
                addTestResult('success', '‚úÖ All Firestore operations completed successfully');
                
            } catch (error) {
                if (error.code === 'permission-denied') {
                    addTestResult('error', '‚ùå Firestore error: Missing or insufficient permissions');
                    addTestResult('warning', 'Update your Firestore security rules for testing');
                } else {
                    addTestResult('error', `‚ùå Firestore error: ${error.message}`);
                }
            }
        }

        function testAuthForms() {
            clearTestResults();
            
            setTimeout(() => {
                // Check for form elements
                const emailInput = document.getElementById('email');
                const passwordInput = document.getElementById('password');
                const authForm = document.getElementById('authForm');
                
                if (emailInput) {
                    addTestResult('success', 'Email input field found');
                } else {
                    addTestResult('error', 'Email input field missing');
                }
                
                if (passwordInput) {
                    addTestResult('success', 'Password input field found');
                } else {
                    addTestResult('error', 'Password input field missing');
                }
                
                if (authForm) {
                    addTestResult('success', 'Authentication form found');
                } else {
                    addTestResult('error', 'Authentication form missing');
                }
                
                // Check toggle functionality
                const toggleLink = document.getElementById('toggleLink');
                if (toggleLink) {
                    addTestResult('success', 'Toggle link found');
                } else {
                    addTestResult('error', 'Toggle link missing');
                }
            }, 1000);
        }

        function testValidation() {
            clearTestResults();
            
            setTimeout(() => {
                // Test email validation
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (emailPattern.test('test@example.com')) {
                    addTestResult('success', 'Email validation pattern working');
                } else {
                    addTestResult('error', 'Email validation pattern failed');
                }
                
                // Test password requirements
                const strongPassword = 'Admin123!';
                const hasUpper = /[A-Z]/.test(strongPassword);
                const hasLower = /[a-z]/.test(strongPassword);
                const hasNumber = /\d/.test(strongPassword);
                const hasMinLength = strongPassword.length >= 6;
                
                if (hasUpper && hasLower && hasNumber && hasMinLength) {
                    addTestResult('success', 'Password validation requirements working');
                } else {
                    addTestResult('error', 'Password validation requirements failed');
                }
                
                // Check for error message elements
                const errorMessage = document.getElementById('errorMessage');
                const successMessage = document.getElementById('successMessage');
                
                if (errorMessage) {
                    addTestResult('success', 'Error message element found');
                } else {
                    addTestResult('error', 'Error message element missing');
                }
                
                if (successMessage) {
                    addTestResult('success', 'Success message element found');
                } else {
                    addTestResult('error', 'Success message element missing');
                }
            }, 1000);
        }

        function testResponsive() {
            clearTestResults();
            
            setTimeout(() => {
                // Check viewport meta tag
                const viewport = document.querySelector('meta[name="viewport"]');
                if (viewport) {
                    addTestResult('success', 'Viewport meta tag found');
                } else {
                    addTestResult('warning', 'Viewport meta tag missing - may affect mobile experience');
                }
                
                // Check for responsive CSS
                const hasResponsiveCSS = document.styleSheets.length > 0;
                if (hasResponsiveCSS) {
                    addTestResult('success', 'CSS stylesheets loaded');
                } else {
                    addTestResult('error', 'No CSS stylesheets found');
                }
                
                // Test different screen sizes simulation
                addTestResult('success', 'Responsive design test completed - check manually on different devices');
            }, 1000);
        }

        function testAccessibility() {
            clearTestResults();
            
            setTimeout(() => {
                // Check for form labels
                const labels = document.querySelectorAll('label');
                if (labels.length > 0) {
                    addTestResult('success', `Found ${labels.length} form labels`);
                } else {
                    addTestResult('warning', 'No form labels found - may affect accessibility');
                }
                
                // Check for alt attributes on images
                const images = document.querySelectorAll('img');
                let imagesWithAlt = 0;
                images.forEach(img => {
                    if (img.alt) imagesWithAlt++;
                });
                
                if (images.length === 0) {
                    addTestResult('success', 'No images found to check for alt attributes');
                } else if (imagesWithAlt === images.length) {
                    addTestResult('success', 'All images have alt attributes');
                } else {
                    addTestResult('warning', `${images.length - imagesWithAlt} images missing alt attributes`);
                }
                
                // Check for heading structure
                const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
                if (headings.length > 0) {
                    addTestResult('success', `Found ${headings.length} headings for proper structure`);
                } else {
                    addTestResult('warning', 'No headings found - may affect screen reader navigation');
                }
            }, 1000);
        }

        function runAllTests() {
            clearTestResults();
            addTestResult('success', 'Starting comprehensive test suite...');
            
            setTimeout(() => testFirebaseConnection(), 500);
            setTimeout(() => testFirestoreDatabase(), 2500);
            setTimeout(() => testAuthForms(), 4000);
            setTimeout(() => testValidation(), 5500);
            setTimeout(() => testResponsive(), 7000);
            setTimeout(() => testAccessibility(), 8500);
            
            setTimeout(() => {
                addTestResult('success', 'üéâ All tests completed! Check results above.');
            }, 10000);
        }

        // Form handling functions
        function handleFormSubmit(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            showMessage('success', `Form submitted with email: ${email}`);
        }

        function toggleAuthMode() {
            const toggleLink = document.getElementById('toggleLink');
            const currentText = toggleLink.textContent;
            
            if (currentText.includes('Register')) {
                toggleLink.textContent = 'Already have an account? Login here';
                showMessage('success', 'Switched to register mode');
            } else {
                toggleLink.textContent = "Don't have an account? Register here";
                showMessage('success', 'Switched to login mode');
            }
        }

        function showMessage(type, message) {
            const errorDiv = document.getElementById('errorMessage');
            const successDiv = document.getElementById('successMessage');
            
            // Hide both messages first
            errorDiv.style.display = 'none';
            successDiv.style.display = 'none';
            
            // Show the appropriate message
            if (type === 'error') {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
            } else {
                successDiv.textContent = message;
                successDiv.style.display = 'block';
            }
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                errorDiv.style.display = 'none';
                successDiv.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>
